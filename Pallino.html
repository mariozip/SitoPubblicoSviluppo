<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Pallina Rimbalzante</title>
<link rel="icon" type="image/png" href="img/favicon.png">
<link rel="stylesheet" href="css/pallino.css">
<style>
  /* Sovrascrive le dimensioni del pallino per raddoppiarle */
  #pallina {
    width: 100px;
    height: 100px;
  }

  /* Stile per il messaggio di successo */
  #messaggio {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    font-size: 5em;
    font-weight: bold;
    color: green;
    z-index: 100;
    display: none; /* Nascosto di default */
    text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
  }
</style>
</head>
<body>

<div id="pallina"></div>
<div id="messaggio">Bravo!</div>

<script>
  const pallina = document.getElementById('pallina');
  const messaggio = document.getElementById('messaggio');

  let posizioneX = 0;
  let posizioneY = 0;
  let velocitaX = 10; // Velocità di movimento orizzontale
  let velocitaY = 10; // Velocità di movimento verticale

  // Funzione per generare un colore esadecimale casuale
  function getRandomColor() {
    const lettere = '0123456789ABCDEF';
    let colore = '#';
    for (let i = 0; i < 6; i++) {
      colore += lettere[Math.floor(Math.random() * 16)];
    }
    return colore;
  }

  function animazione() {
    const larghezzaSchermo = window.innerWidth;
    const altezzaSchermo = window.innerHeight;

    let rimbalzo = false;

    // Aggiorna la posizione della pallina
    posizioneX += velocitaX;
    posizioneY += velocitaY;

    // Controlla le collisioni con i bordi orizzontali
    if (posizioneX + pallina.clientWidth > larghezzaSchermo || posizioneX < 0) {
      velocitaX = -velocitaX;
      rimbalzo = true;
    }

    // Controlla le collisioni con i bordi verticali
    if (posizioneY + pallina.clientHeight > altezzaSchermo || posizioneY < 0) {
      velocitaY = -velocitaY;
      rimbalzo = true;
    }

    // Se c'è stato un rimbalzo, cambia il colore della pallina
    if (rimbalzo) {
      pallina.style.backgroundColor = getRandomColor();
    }

    // Applica le nuove posizioni
    pallina.style.left = posizioneX + 'px';
    pallina.style.top = posizioneY + 'px';

    // Richiama la funzione per il prossimo frame
    requestAnimationFrame(animazione);
  }

  // Aggiunge l'evento di click sul pallino
  pallina.addEventListener('click', () => {
    // Mostra il messaggio
    messaggio.style.display = 'block';

    // Imposta un timer per nascondere il messaggio dopo 10 secondi
    setTimeout(() => {
      messaggio.style.display = 'none';
    }, 10000); // 10000 millisecondi = 10 secondi
  });

  // Avvia l'animazione
  animazione();
</script>

</body>
</html>